(this.webpackJsonpreactproj=this.webpackJsonpreactproj||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(19)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(9),r=a.n(o),c=(a(15),a(1)),i=a(2),l=a(4),u=a(3),m=a(5),p=(a(16),a(17),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"about"},s.a.createElement("div",{className:"imgBack"},s.a.createElement("div",{className:"titleText"},"Hello",s.a.createElement("div",{className:"titleIn"},"Welcome to my new project, the project includes the Registration, Entry, Workspace pages. To enter the Workspace page you need to register."),s.a.createElement("div",{className:"butSection"},s.a.createElement("button",{className:"button",onClick:this.props.onRegis},"Register")))))}}]),t}(n.Component)),d=function(e){return fetch("https://5d9b4390686ed000144d1ed9.mockapi.io/js/base3",{method:"GET"}).then((function(t){return t.json().then((function(t){return e(t)}))})).catch((function(e){console.log("Error",e)}))},b=function(e){return fetch("https://5d9b4390686ed000144d1ed9.mockapi.io/js/base2",{method:"GET"}).then((function(t){return t.json().then((function(t){return e(t)}))})).catch((function(e){console.log("Error",e)}))},h=function(e,t,a){fetch(a,{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){if(200===e.status||201===e.status)return e.json()})).then((function(t){return e(t)}))},f=function(e,t,a){fetch(a,{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){if(200===e.status||201===e.status)return e.json()})).then((function(t){return e(t)}))},g=function(e,t){fetch(t,{method:"DELETE"}).then((function(e){if(200===e.status||201===e.status)return e.json()})).then((function(t){return e(t)}))},O=function(e,t){fetch(t).then((function(e){if(200===e.status)return e.json()})).then((function(t){return e(t)}))},E=new function e(){Object(c.a)(this,e),this.getUser=b,this.getPost=d,this.postForm=h,this.getForm=O,this.putForm=f,this.deleteForm=g},v=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={user:[],post:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.getUser((function(t){e.setState({user:t})})),E.getPost((function(t){e.setState({post:t})}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"home"},s.a.createElement("div",{className:"user"},this.state.user.map((function(e){return s.a.createElement("div",{key:e.id,className:"nameUser"},s.a.createElement("img",{src:e.avatar}),s.a.createElement("div",{className:"textUser"},e.name))}))),s.a.createElement("div",{className:"post"},this.state.post.map((function(e){return s.a.createElement("div",{key:e.id,className:"card"},s.a.createElement("div",{className:"cardHead"},s.a.createElement("div",null,e.title),s.a.createElement("div",null,e.author)),s.a.createElement("div",{className:"descrip"},e.description))}))))}}]),t}(n.Component),y=a(6),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getInput=function(e,t){var n;a.setState((n={},Object(y.a)(n,"".concat(t),e.target.value),Object(y.a)(n,"style",{border:"1px solid white"}),n)),a.state.poster["".concat(t)]=e.target.value},a.onLogin=function(){E.postForm((function(e){void 0!==e?(a.setState({style:{border:"1.5px solid green"}}),localStorage.setItem("ID_OF_LOGGINED",JSON.stringify({id:e.id,userId:e.userId})),setTimeout((function(){a.props.onWork()}),500)):(a.setState({style:{border:"1.5px solid red"}}),console.log("NOT LOGINED!"))}),a.state.poster,"https://it-blog-posts.herokuapp.com/api/people/login")},a.state={password:"",email:"",style:{border:"1px solid white"},poster:{password:"",email:""}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"imgBack"},s.a.createElement("div",{className:"titleText"},"Login",s.a.createElement("div",{className:"titleIn"},"Log in after registation")),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"inpSection"},s.a.createElement("input",{className:"inp",style:this.state.style,type:"text",onChange:function(t){e.getInput(t,"email")},placeholder:"Email"}),s.a.createElement("input",{className:"inp",style:this.state.style,type:"password",onChange:function(t){e.getInput(t,"password")},placeholder:"Password"})),s.a.createElement("div",{className:"butSection"},s.a.createElement("button",{className:"button",onClick:this.onLogin},"Submit"))))}}]),t}(n.PureComponent),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getInput=function(e,t){var n;a.setState((n={},Object(y.a)(n,"".concat(t),e.target.value),Object(y.a)(n,"style",{border:"1px solid white"}),n)),a.state.poster["".concat(t)]=e.target.value},a.onRegis=function(){E.postForm((function(e){void 0!==e?(a.setState({success:"Successfully!",style:{border:"1.5px solid green"}}),setTimeout((function(){a.props.onLogin()}),1e3)):a.setState({style:{border:"1.5px solid red"}})}),a.state.poster,"https://it-blog-posts.herokuapp.com/api/people")},a.state={lastname:"",username:"",password:"",email:"",style:{border:"1px solid white"},success:"",poster:{lastname:"",username:"",password:"",email:""}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"imgBack"},s.a.createElement("div",{className:"titleText"},"Register",s.a.createElement("div",{className:"titleIn"},"Write valid data")),s.a.createElement("div",{className:"container"},"Successfully!"===this.state.success?s.a.createElement("div",{style:{color:"green",textAlign:"center",fontSize:"14px"}},this.state.success):null,s.a.createElement("div",{className:"inpSection"},s.a.createElement("input",{className:"inp",style:this.state.style,type:"text",onChange:function(t){e.getInput(t,"username")},placeholder:"Nickname"}),s.a.createElement("input",{className:"inp",style:this.state.style,type:"text",onChange:function(t){e.getInput(t,"lastname")},placeholder:"Lastname"}),s.a.createElement("input",{className:"inp",style:this.state.style,type:"text",onChange:function(t){e.getInput(t,"email")},placeholder:"Email"}),s.a.createElement("input",{className:"inp",style:this.state.style,type:"password",onChange:function(t){e.getInput(t,"password")},placeholder:"Password"})),s.a.createElement("div",{className:"butSection"},s.a.createElement("button",{className:"button",onClick:this.onRegis},"Submit"))))}}]),t}(n.PureComponent),k=s.a.createContext(),S=a(7);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var I=function(e){var t=Object(n.useState)({email:!1}),a=Object(S.a)(t,2),o=a[0],r=a[1];return s.a.createElement("div",{key:e.e.id,className:"nameUser"},s.a.createElement("div",{className:"nickname",onClick:function(e){r(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},o,{email:!o.email}))}},e.e.username),o.email?s.a.createElement("div",{key:e.e.id,className:"email",style:o.style},e.e.email):s.a.createElement("div",{key:e.e.id,className:"textUser"},e.e.lastname))},P=function(){var e=Object(n.useState)({user:[]}),t=Object(S.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){E.getForm((function(e){o({user:e})}),"https://it-blog-posts.herokuapp.com/api/people/")}),[]),s.a.createElement("div",{className:"user"},a.user.map((function(e){return s.a.createElement(I,{key:e.id,e:e})})))};function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(e){var t=JSON.parse(localStorage.ID_OF_LOGGINED),a=Object(n.useState)({update:!1,style:{border:"1px solid white"},poster:{title:e.e.title,author:e.e.author,description:e.e.description,personId:"".concat(t.userId)}}),o=Object(S.a)(a,2),r=o[0],c=o[1],i=function(e,t){c(x({},r,{poster:x({},r.poster,Object(y.a)({},"".concat(t),e.target.value))}))};return s.a.createElement("div",null,r.update?s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"cardHead"},s.a.createElement("input",{className:"inpmodal",style:r.style,onChange:function(e){return i(e,"title")},value:r.poster.title}),s.a.createElement("input",{className:"inpmodal",style:r.style,onChange:function(e){return i(e,"author")},value:r.poster.author,disabled:!0})),s.a.createElement("div",{className:"desc"},s.a.createElement("input",{className:"inpmodal",style:r.style,size:"35",onChange:function(e){return i(e,"description")},value:r.poster.description}),s.a.createElement("div",{className:"butsec"},s.a.createElement("button",{className:"butmodal",onClick:function(){return a=e.e.id,void E.putForm((function(t){void 0!==t?(setTimeout((function(){c(x({},r,{style:{border:"1.5px solid white"},update:!1}))}),700),e.getPosts()):c(x({},r,{style:{border:"1.5px solid red"}}))}),r.poster,"https://it-blog-posts.herokuapp.com/api/posts/".concat(a,"?access_token=").concat(t.id));var a}},"Update"),s.a.createElement("button",{className:"butmodal",onClick:function(){return a=e.e.id,setTimeout((function(){c(x({},r,{update:!1}))}),700),void E.deleteForm((function(t){void 0!==t&&e.getPosts()}),"https://it-blog-posts.herokuapp.com/api/posts/".concat(a,"?access_token=").concat(t.id,"/"));var a}},"Delete"),s.a.createElement("button",{className:"butmodal",onClick:function(){c(x({},r,{update:!1}))}},"Cancel")))):s.a.createElement("div",{key:e.e.id,onClick:function(e){c(x({},r,{update:!0}))},className:"card",disabled:!0},s.a.createElement("div",{className:"cardHead"},s.a.createElement("div",null,e.e.title),s.a.createElement("div",null,e.e.author)),s.a.createElement("div",{className:"descrip"},e.e.description)))};function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T=function(e){var t=JSON.parse(localStorage.ID_OF_LOGGINED),a=Object(n.useState)({posts:[],showPosts:!0,changePosts:"",modal:!1,style:{border:"1px solid white"},poster:{description:"",author:e.username,title:"",personId:"".concat(t.userId)}}),o=Object(S.a)(a,2),r=o[0],c=o[1];function i(){E.getForm((function(e){void 0!==e&&c(G({},r,{posts:e}))}),"https://it-blog-posts.herokuapp.com/api/people/".concat(t.userId,"/posts?access_token=").concat(t.id))}Object(n.useEffect)((function(){i()}),[r.changePosts]);var l=function(e,t){c(G({},r,{poster:G({},r.poster,Object(y.a)({},"".concat(t),e.target.value))}))},u=function(){c(G({},r,{modal:!r.modal,poster:G({},r.poster,{description:"",title:""})}))};return s.a.createElement("div",{className:"post"},s.a.createElement("button",{className:"butmodal",onClick:u},"Create new post"),r.modal&&s.a.createElement("div",{className:"modalBack"},s.a.createElement("div",{className:"modal"},s.a.createElement("div",{className:"cardHead"},s.a.createElement("input",{className:"inpmodal",style:r.style,onChange:function(e){return l(e,"title")},placeholder:"title"}),s.a.createElement("input",{className:"inpmodal",style:r.style,onChange:function(e){return l(e,"author")},placeholder:r.poster.author,disabled:!0})),s.a.createElement("div",{className:"desc"},s.a.createElement("input",{className:"inpmodal",style:r.style,size:"35",onChange:function(e){return l(e,"description")},placeholder:"description"}),s.a.createElement("div",{className:"butsec"},s.a.createElement("button",{className:"butmodal",onClick:function(){E.postForm((function(e){void 0!==e?(console.log(e),c(G({},r,{changePosts:e.id,style:{border:"1.5px solid white"}}))):c(G({},r,{style:{border:"1.5px solid red"}}))}),r.poster,"https://it-blog-posts.herokuapp.com/api/posts?access_token=".concat(t.id))}},"Post"),s.a.createElement("button",{className:"butmodal",onClick:u},"Close"))))),r.showPosts&&r.posts.map((function(e){return s.a.createElement(D,{key:e.id,e:e,getPosts:i})})))},F=(a(18),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:"",lastname:"",email:"",workuser:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=JSON.parse(localStorage.ID_OF_LOGGINED);this.context.getUserId(t.userId),E.getForm((function(t){void 0!==t&&(e.setState({username:t.username,lastname:t.lastname,email:t.email}),setTimeout((function(){e.setState({workuser:!0})}),800))}),"https://it-blog-posts.herokuapp.com/api/people/".concat(t.userId))}},{key:"render",value:function(){return s.a.createElement("div",null,!this.state.workuser&&s.a.createElement("div",{className:"imgBack"},s.a.createElement("div",{className:"titleText"},s.a.createElement("div",null,this.state.username),"Wellcome!"),s.a.createElement("div",{className:"userdata"},s.a.createElement("div",null,this.state.email),s.a.createElement("div",null,this.state.lastname))),s.a.createElement("div",{className:"home"},this.state.workuser&&s.a.createElement(P,null),this.state.workuser&&s.a.createElement(T,{username:this.state.username})))}}]),t}(n.PureComponent));F.contextType=k;var _=F,U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onWork=function(){a.setState({bar:"",loggined:!0})},a.onLogout=function(){a.setState({bar:"LOGIN",loggined:!1}),localStorage.removeItem("ID_OF_LOGGINED")},a.onAbout=function(){a.setState({bar:"ABOUT"})},a.onLogin=function(){a.setState({bar:"LOGIN"})},a.onRegis=function(){a.setState({bar:"REGIS"})},a.onHome=function(){a.setState({bar:"HOME"})},a.getUserId=function(e){a.setState({userId:e})},a.state={bar:"ABOUT",loggined:!1,userId:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){void 0!==localStorage.ID_OF_LOGGINED&&this.setState({bar:"",loggined:!0})}},{key:"render",value:function(){return s.a.createElement(k.Provider,{value:{getUserId:this.getUserId}},s.a.createElement("div",{className:"navigation"},s.a.createElement("div",{className:"tabs"},s.a.createElement("button",{className:"tab",onClick:this.onAbout},"About"),s.a.createElement("button",{className:"tab",onClick:this.onHome},"Home"),this.state.loggined?null:s.a.createElement("button",{className:"tab",onClick:this.onLogin},"Log in"),this.state.loggined?null:s.a.createElement("button",{className:"tab",onClick:this.onRegis},"Registration"),this.state.loggined?s.a.createElement("button",{className:"tab",onClick:this.onWork},"Workspace"):null,this.state.loggined?s.a.createElement("button",{className:"tab",onDoubleClick:this.onLogout},"Logout"):null),"ABOUT"===this.state.bar?s.a.createElement(p,{onRegis:this.onRegis}):null,"HOME"===this.state.bar?s.a.createElement(v,null):null,"LOGIN"===this.state.bar?s.a.createElement(j,{onWork:this.onWork}):null,"REGIS"===this.state.bar?s.a.createElement(N,{onLogin:this.onLogin}):null,""===this.state.bar&&this.state.loggined?s.a.createElement(_,null):null))}}]),t}(n.PureComponent),R=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(U,null))}}]),t}(n.Component);r.a.render(s.a.createElement(R,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.9b19c447.chunk.js.map